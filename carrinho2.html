<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loja de Roupas - Carrinho de Compras</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Simplified styles */
    .cart-preview {
      position: fixed;
      right: 20px;
      top: 100px;
    }
  </style>
</head>
<body class="bg-gray-100 font-sans">
  <!-- Barra de navegação -->
  <nav class="bg-white shadow-md py-4 px-6">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold text-indigo-600">ModaStyle</h1>
      <div class="relative">
        <div class="text-indigo-600">
          <i class="fas fa-shopping-cart text-2xl"></i>
          <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs">0</span>
        </div>
        <!-- Carrinho sempre visível -->
        <div id="cart-preview" class="cart-preview w-72 bg-white rounded-md shadow-lg p-4 z-10">
          <h3 class="font-bold border-b pb-2">Seu Carrinho</h3>
          <div id="cart-items" class="py-2 max-h-64 overflow-y-auto"></div>
          <p id="cart-total" class="font-bold border-t pt-2 mt-2">Total: R$0.00</p>
          <button id="checkout-btn" class="w-full bg-indigo-600 text-white py-2 rounded-md mt-2 hover:bg-indigo-700 transition">Finalizar Compra</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Seção de produtos -->
  <main class="container mx-auto py-8 px-6">
    <h2 class="text-2xl font-bold mb-6 text-gray-800">Nossos Produtos</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      <!-- Produto 1 -->
      <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <div class="relative h-48">
          <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/56cd904a-9dcd-476e-9a5d-898f75c6aaea.png" alt="Camiseta básica branca de algodão com logo minimalista" class="w-full h-full object-cover">
        </div>
        <div class="p-4">
          <h3 class="font-bold text-lg">Camiseta Básica</h3>
          <p class="text-gray-600 mt-1">Tecido 100% algodão</p>
          <p class="font-bold mt-2 text-indigo-600">R$49.90</p>
          <button onclick="addToCart('Camiseta Básica', 49.9, 'https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/0b5c29ca-54be-4bb6-b808-389e761c69a8.png')" class="w-full mt-4 bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition">Adicionar ao Carrinho</button>
        </div>
      </div>

      <!-- Produto 2 -->
      <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <div class="relative h-48">
          <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/ca7bd051-bc5b-4ae2-b34b-91ddd5114d34.png" alt="Calça jeans azul escuro slim fit com detalhes rasgados" class="w-full h-full object-cover">
        </div>
        <div class="p-4">
          <h3 class="font-bold text-lg">Calça Jeans</h3>
          <p class="text-gray-600 mt-1">Slim fit - Azul escuro</p>
          <p class="font-bold mt-2 text-indigo-600">R$129.90</p>
          <button onclick="addToCart('Calça Jeans', 129.9, 'https://placehold.co/400x400')" class="w-full mt-4 bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition">Adicionar ao Carrinho</button>
        </div>
      </div>

      <!-- Produto 3 -->
      <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <div class="relative h-48">
          <img src="https://placehold.co/400x400" alt="Tênis esportivo preto com detalhes em vermelho e solado de borracha" class="w-full h-full object-cover">
        </div>
        <div class="p-4">
          <h3 class="font-bold text-lg">Tênis Esportivo</h3>
          <p class="text-gray-600 mt-1">Confortável e durável</p>
          <p class="font-bold mt-2 text-indigo-600">R$199.90</p>
          <button onclick="addToCart('Tênis Esportivo', 199.9, 'https://placehold.co/400x400')" class="w-full mt-4 bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition">Adicionar ao Carrinho</button>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Carrinho de compras
    let cart = [];
    let cartToggle = document.getElementById('cart-toggle');
    let cartPreview = document.getElementById('cart-preview');
    let cartItemsContainer = document.getElementById('cart-items');
    let cartCount = document.getElementById('cart-count');
    let cartTotal = document.getElementById('cart-total');
    let checkoutBtn = document.getElementById('checkout-btn');

    // Mostrar/ocultar carrinho
    cartToggle.addEventListener('click', () => {
      cartPreview.classList.toggle('hidden');
    });

    // Adiciona produto ao carrinho
    function addToCart(name, price, image) {
      const existingItem = cart.find(item => item.name === name);

      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ name, price, image, quantity: 1 });
      }

      updateCart();
      // Notification removed for simplicity
    }

    // Remove item do carrinho
    function removeItem(index) {
      cart.splice(index, 1);
      updateCart();
    }

    // Atualiza a exibição do carrinho
    function updateCart() {
      cartItemsContainer.innerHTML = '';
      let count = 0;
      let total = 0;

      cart.forEach((item, index) => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;
        count += item.quantity;

        cartItemsContainer.innerHTML += `
          <div class="flex items-center py-2 border-b">
            <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover mr-3">
            <div class="flex-1">
              <p class="font-medium">${item.name}</p>
              <p class="text-sm">R$${item.price.toFixed(2)} x ${item.quantity}</p>
            </div>
            <button onclick="removeItem(${index})" class="text-red-500 hover:text-red-700">
              <i class="fas fa-trash-alt"></i>
            </button>
          </div>
        `;
      });

      cartCount.textContent = count;
      cartTotal.textContent = `Total: R$${total.toFixed(2)}`;
    }

    // Finalizar compra
    checkoutBtn.addEventListener('click', () => {
      if (cart.length === 0) {
        alert('Seu carrinho está vazio!');
        return;
      }
      alert(`Compra finalizada! Total: R$${cart.reduce((sum, item) => sum + (item.price * item.quantity), 0).toFixed(2)}`);
      cart = [];
      updateCart();
      cartPreview.classList.add('hidden');
    });

    // Exibe notificação de produto adicionado
    function showCartNotification(name) {
      const notification = document.createElement('div');
      notification.className = 'fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md shadow-lg flex items-center';
      notification.innerHTML = `
        <i class="fas fa-check-circle mr-2"></i>
        ${name} adicionado ao carrinho!
      `;
      document.body.appendChild(notification);
      setTimeout(() => notification.remove(), 3000);
    }
  </script>
</body>
</html>
